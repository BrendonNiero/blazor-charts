@using MudBlazor
@inject NavigationManager Navigation

<!-- Componente Mobile Navbar -->
<MudAppBar Elevation="1" Color="Color.Primary" Class="mud-width-full">
    <MudIconButton Icon="@Icons.Material.Filled.Menu"
                   Color="Color.Inherit"
                   Edge="Edge.Start"
                   OnClick="ToggleDrawer" />
    <MudText Typo="Typo.h6" Class="ml-2">BlazorCharts</MudText>
</MudAppBar>

<MudDrawerContainer>
    <MudDrawer @bind-Open="_drawerOpen"
               Elevation="1"
               Variant="DrawerVariant.Temporary"
               Anchor="Anchor.Left"
               Breakpoint="Breakpoint.SmAndDown">
        <!-- Logo -->
        <NavLink href="/" class="mud-width-full mud-py-2 mud-d-flex mud-align-center mud-justify-start">
            <img class="logo" src="./logo-b-c.png" alt="Logo" />
            <MudText Typo="Typo.h6" Class="ml-2">BlazorCharts</MudText>
        </NavLink>

        <!-- Menu -->
        <MudNavMenu Class="mud-width-full mud-pt-2">
            <MudNavLink Href="/doc" Icon="@Icons.Material.Filled.ArrowDownward"
                        Class="@(IsActive("/doc") ? "active" : "")">
                Instalação
            </MudNavLink>
            <MudNavGroup Icon="@Icons.Material.Filled.BarChart" Title="Gráficos" Expanded="true">
                <MudNavLink Href="/linha" Class="@(IsActive("/linha") ? "active" : "")">Linha</MudNavLink>
                <MudNavLink Href="/barra-dupla" Class="@(IsActive("/barra-dupla") ? "active" : "")">Barra Dupla</MudNavLink>
                <MudNavLink Href="/polar" Class="@(IsActive("/polar") ? "active" : "")">Polar</MudNavLink>
                <MudNavLink Href="/doughnut" Class="@(IsActive("/doughnut") ? "active" : "")">Doughnut</MudNavLink>
                <MudNavLink Href="/torta" Class="@(IsActive("/torta") ? "active" : "")">Torta</MudNavLink>
            </MudNavGroup>
            <MudNavLink Href="/duvidas" Icon="@Icons.Material.Filled.FormatQuote"
                        Class="@(IsActive("/duvidas") ? "active" : "")">
                Dúvidas Frequentes
            </MudNavLink>
        </MudNavMenu>
    </MudDrawer>
</MudDrawerContainer>

@code {
    private bool _drawerOpen;

    private void ToggleDrawer()
    {
        _drawerOpen = !_drawerOpen;
    }

    private bool IsActive(string href)
    {
        return Navigation.Uri.EndsWith(href, StringComparison.OrdinalIgnoreCase);
    }
}
